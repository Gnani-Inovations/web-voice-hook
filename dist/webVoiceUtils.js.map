{"version":3,"file":"webVoiceUtils.js","names":["floatTo16BitPCM","float32Array","int16Array","Int16Array","length","i","s","Math","max","min","base64ToPCM16Data","base64Data","binaryString","atob","buffer","ArrayBuffer","view","Uint8Array","charCodeAt","linearToMuLaw","pcm","muLawCompressed","sample","sign","mantissa","exponent","ulawByte","getBase64Audio","audioData","muLawData","btoa","String","fromCharCode","apply","Array","from","resetAudioInput","stream","getTracks","forEach","track","stop","createWavHeader","dataLength","DataView","setUint8","setUint32","setUint16","CHANNELS","SAMPLE_RATE","BITS_PER_SAMPLE","getAudioWorkletModule","URL","createObjectURL","Blob","type","convertPCMDataToFloat32","pcm16Data","float32Data","Float32Array","convertPCMDataWithWavHeaderToFloat32","wavHeader","byteLength","headerView","combinedBuffer","set","WORKLET_NODE_OPTIONS","processorOptions","sampleRate","channelCount","numberOfInputs","numberOfOutputs","resampleAudio","originalSampleRate","targetSampleRate","ratio","newLength","floor","result","position","index","fraction","getVisualizerOptions","source","smoothing","lineWidth","maxFreq","mode","width","height","volume","showScaleX","showPeaks","alphaBars","ansiBands","barSpace","bgAlpha","channelLayout","fadePeaks","fillAlpha","frequencyScale","gradient","gravity","ledBars","linearAmplitude","linearBoost","loRes","lumiBars","maxDecibels","maxFPS","minDecibels","minFreq","mirror","noteLabels","outlineBars","overlay","peakFadeTime","peakHoldTime","peakLine","radial","radialInvert","radius","reflexAlpha","reflexBright","reflexFit","reflexRatio","roundBars","showBgColor","showFPS","showScaleY","spinSpeed","splitGradient","trueLeds","useCanvas","weightingFilter","applyCustomColor","analyzer","color","canvas","ctx","getContext","originalDrawImage","drawImage","image","args","globalCompositeOperation","fillStyle","fillRect"],"sources":["../src/webVoiceUtils.ts"],"mappings":"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","ignoreList":[]}